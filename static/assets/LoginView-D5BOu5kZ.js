import{d as B,r as N,a as m,c as q,b as s,e as o,f as E,g as F,w as t,h as R,i as n,u as U,j as P,o as _,k as r,l as $,m as j,n as I,E as f,p as S,_ as T}from"./index-BRQ1HDww.js";const h={class:"login-container"},z={class:"login-card"},A={class:"login-options"},D={class:"login-footer"},G=B({__name:"LoginView",setup(H){const v=U(),b=P(),l=N({email:"",password:""}),w={email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6个字符",trigger:"blur"}]},p=m(!1),i=m(""),V=m();async function y(){try{await V.value.validate(),await I(l.email,l.password),f.success("登录成功");const u=b.query.redirect||"/";v.push(u)}catch{i.value=S.value||"登录失败，请检查您的凭据"}}function k(){f.info("忘记密码功能暂未实现，请联系管理员")}return(u,e)=>{const c=n("el-input"),d=n("el-form-item"),x=n("el-checkbox"),g=n("el-button"),C=n("router-link"),L=n("el-form"),M=n("el-alert");return _(),q("div",h,[s("div",z,[e[9]||(e[9]=s("div",{class:"login-header"},[s("h2",null,"登录"),s("p",null,"欢迎回来，请登录您的账号")],-1)),o(L,{ref:"loginForm",model:l,rules:w,"label-position":"top",onSubmit:R(y,["prevent"])},{default:t(()=>[o(d,{label:"邮箱",prop:"email"},{default:t(()=>[o(c,{modelValue:l.email,"onUpdate:modelValue":e[0]||(e[0]=a=>l.email=a),placeholder:"请输入邮箱",type:"email","prefix-icon":"Message"},null,8,["modelValue"])]),_:1}),o(d,{label:"密码",prop:"password"},{default:t(()=>[o(c,{modelValue:l.password,"onUpdate:modelValue":e[1]||(e[1]=a=>l.password=a),placeholder:"请输入密码",type:"password","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),s("div",A,[o(x,{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=a=>p.value=a)},{default:t(()=>[...e[4]||(e[4]=[r("记住我",-1)])]),_:1},8,["modelValue"]),o(g,{type:"text",onClick:k},{default:t(()=>[...e[5]||(e[5]=[r("忘记密码？",-1)])]),_:1})]),o(d,null,{default:t(()=>[o(g,{type:"primary","native-type":"submit",loading:$(j),class:"login-button"},{default:t(()=>[...e[6]||(e[6]=[r(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1}),s("div",D,[s("p",null,[e[8]||(e[8]=r("还没有账号？",-1)),o(C,{to:"/register"},{default:t(()=>[...e[7]||(e[7]=[r("立即注册",-1)])]),_:1})])])]),_:1},8,["model"]),i.value?(_(),E(M,{key:0,title:i.value,type:"error","show-icon":"",closable:!0,onClose:e[3]||(e[3]=a=>i.value="")},null,8,["title"])):F("",!0)])])}}}),K=T(G,[["__scopeId","data-v-6993cba5"]]);export{K as default};
